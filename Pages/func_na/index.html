
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Spatial Network Analysis for Python Module">
      
      
      
      
        <link rel="prev" href="../func_structure/">
      
      
        <link rel="next" href="../func_ca/">
      
      
      <link rel="icon" href="../../assets/IconW_12.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.38">
    
    
      
        <title>Network Analysis - SNAPy Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.8c3ca2c6.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Hanken+Grotesk:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Hanken Grotesk";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#spatial-network-analysis-functions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="SNAPy Documentation" class="md-header__button md-logo" aria-label="SNAPy Documentation" data-md-component="logo">
      
  <img src="../../assets/IconW_64.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SNAPy Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Network Analysis
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="SNAPy Documentation" class="md-nav__button md-logo" aria-label="SNAPy Documentation" data-md-component="logo">
      
  <img src="../../assets/IconW_64.png" alt="logo">

    </a>
    SNAPy Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Functions Documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Functions Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../func_structure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Network Analysis
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Network Analysis
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#graphsims-class" class="md-nav__link">
    <span class="md-ellipsis">
      GraphSims class
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GraphSims class">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-example" class="md-nav__link">
    <span class="md-ellipsis">
      Use Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#graphsims-items" class="md-nav__link">
    <span class="md-ellipsis">
      GraphSims Items
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GraphSims Items">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#baseset-dict" class="md-nav__link">
    <span class="md-ellipsis">
      .baseSet dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#networkdf-geodataframe" class="md-nav__link">
    <span class="md-ellipsis">
      .NetworkDf GeoDataFrame
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entriesdf-geodataframe" class="md-nav__link">
    <span class="md-ellipsis">
      .EntriesDf GeoDataFrame
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gph-graph" class="md-nav__link">
    <span class="md-ellipsis">
      .Gph Graph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodedf-geodataframe" class="md-nav__link">
    <span class="md-ellipsis">
      .NodeDf GeoDataFrame
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pdklayers-pdklyrnm-pdkcenter" class="md-nav__link">
    <span class="md-ellipsis">
      .pdkLayers, .pdkLyrNm, .pdkCenter
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#graphsims-functions" class="md-nav__link">
    <span class="md-ellipsis">
      GraphSims Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GraphSims Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#betweenesspatronage-func" class="md-nav__link">
    <span class="md-ellipsis">
      .BetweenessPatronage func
    </span>
  </a>
  
    <nav class="md-nav" aria-label=".BetweenessPatronage func">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_1" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-example_1" class="md-nav__link">
    <span class="md-ellipsis">
      Use Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reach-func" class="md-nav__link">
    <span class="md-ellipsis">
      .Reach func
    </span>
  </a>
  
    <nav class="md-nav" aria-label=".Reach func">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_2" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-example_2" class="md-nav__link">
    <span class="md-ellipsis">
      Use Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#straightness-func" class="md-nav__link">
    <span class="md-ellipsis">
      .Straightness func
    </span>
  </a>
  
    <nav class="md-nav" aria-label=".Straightness func">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_3" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-example_3" class="md-nav__link">
    <span class="md-ellipsis">
      Use Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pathreach-func" class="md-nav__link">
    <span class="md-ellipsis">
      .PathReach func
    </span>
  </a>
  
    <nav class="md-nav" aria-label=".PathReach func">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_4" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-example_4" class="md-nav__link">
    <span class="md-ellipsis">
      Use Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../func_ca/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Other Analysis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../func_routines/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Routine Analysis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../func_vis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Visualization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../func_ut/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utilites
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SGACy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SGACy
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../methods/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Method Documentation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../smpl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Examples
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#graphsims-class" class="md-nav__link">
    <span class="md-ellipsis">
      GraphSims class
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GraphSims class">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-example" class="md-nav__link">
    <span class="md-ellipsis">
      Use Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#graphsims-items" class="md-nav__link">
    <span class="md-ellipsis">
      GraphSims Items
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GraphSims Items">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#baseset-dict" class="md-nav__link">
    <span class="md-ellipsis">
      .baseSet dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#networkdf-geodataframe" class="md-nav__link">
    <span class="md-ellipsis">
      .NetworkDf GeoDataFrame
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entriesdf-geodataframe" class="md-nav__link">
    <span class="md-ellipsis">
      .EntriesDf GeoDataFrame
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gph-graph" class="md-nav__link">
    <span class="md-ellipsis">
      .Gph Graph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodedf-geodataframe" class="md-nav__link">
    <span class="md-ellipsis">
      .NodeDf GeoDataFrame
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pdklayers-pdklyrnm-pdkcenter" class="md-nav__link">
    <span class="md-ellipsis">
      .pdkLayers, .pdkLyrNm, .pdkCenter
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#graphsims-functions" class="md-nav__link">
    <span class="md-ellipsis">
      GraphSims Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GraphSims Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#betweenesspatronage-func" class="md-nav__link">
    <span class="md-ellipsis">
      .BetweenessPatronage func
    </span>
  </a>
  
    <nav class="md-nav" aria-label=".BetweenessPatronage func">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_1" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-example_1" class="md-nav__link">
    <span class="md-ellipsis">
      Use Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reach-func" class="md-nav__link">
    <span class="md-ellipsis">
      .Reach func
    </span>
  </a>
  
    <nav class="md-nav" aria-label=".Reach func">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_2" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-example_2" class="md-nav__link">
    <span class="md-ellipsis">
      Use Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#straightness-func" class="md-nav__link">
    <span class="md-ellipsis">
      .Straightness func
    </span>
  </a>
  
    <nav class="md-nav" aria-label=".Straightness func">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_3" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-example_3" class="md-nav__link">
    <span class="md-ellipsis">
      Use Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pathreach-func" class="md-nav__link">
    <span class="md-ellipsis">
      .PathReach func
    </span>
  </a>
  
    <nav class="md-nav" aria-label=".PathReach func">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_4" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-example_4" class="md-nav__link">
    <span class="md-ellipsis">
      Use Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="spatial-network-analysis-functions">Spatial Network Analysis Functions</h1>
<p>Network Analysis functions</p>
<h2 id="graphsims-class">GraphSims   <i> class </i></h2>
<dl>
<dt><code class="language-python highlight"><span class="n">GraphSims</span><span class="p">(</span><span class="n">NetworkDf</span><span class="p">:</span><span class="n">GeoDataFrame</span><span class="p">,</span> <span class="n">EntriesDf</span><span class="p">:</span><span class="n">GeoDataFrame</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code></dt>
<dd>
<p>The core process for spatial network analysis is operated/structured within the <code class="language-python highlight"><span class="n">Graphsims</span></code> Class, which reads Geopandas Geodataframe for entries and network data. The class initialization prepackages and compiles further processing and its subsequent results. main class for network analysis processing, initialization stage will have some heavy processes included. the processes in order</p>
<ul>
<li>checking if network and entrances are the same projection and is_geographic (in meters)</li>
<li>
<p>checking geometry type (linestring for network and points for entries. if network has multilinestring, it will convert the layer to linestring)
if the input data does not meet required prerequisite above, the initialization process will stop and raise exceptions.</p>
</li>
<li>
<p>initial compiling of network nodes (junction points), if more than 30% of nodes are deadends, initialization process will offer to segment lines on intersections (SNAPy.NetworkSegmentIntersections(NetworkDf))</p>
</li>
<li>adding Feature-ID of network and entrances as attribute if not found</li>
<li>building graph on SGACy (Spatial Graph Analisis in Cython)</li>
<li>building entries data, appending with entrance/relation to graph related information.</li>
<li>appending point coordinate as attributes unto EntriesDf</li>
</ul>
<h5 id="parameters">Parameters</h5>
<dl>
<dd>
<dl>
<dt><b>NetworkDf</b> : GeoDataFrame</dt>
<dd>Geopandas geodataframe of network data, containing edges in LineString data form. Can contain weight multiplier for costs and also vertex classification; with the default value for cost is geometrical length. </dd>
</dl>
</dd>
<dd>
<dl>
<dt><b>EntriesDf</b> : GeoDataFrame</dt>
<dd>Geopandas geodataframe of Entries data, containing nodes in Point data form.</dd>
</dl>
</dd>
<dd>
<dl>
<dt><b>**kwargs</b> : Dict/keys-values</dt>
<dd>
<p>Parameter arguments, that contain:</p>
<ul>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;EntDist&quot;</span> <span class="nb">float</span></code>   default 100.0</p>
<p>search distance to closest edge of network, further distanced entrances will not be accounted</p>
</li>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;EntID&quot;</span> <span class="n">string</span></code>   default "fid"</p>
<p>string of attribute/column name for Entrance Feature ID. If not found, will be automatically made in initialization process</p>
</li>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;EdgeID&quot;</span> <span class="n">string</span></code>   default "fid"</p>
<p>string of attribute/column name for Network Feature ID. If not found, will be automatically made in initialization process</p>
</li>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;AE_Lnlength&quot;</span> <span class="n">string</span></code>   default None</p>
<p>string of attribute/column name for Network cost multiplier, if None, all edges will use the value of its geometrical length</p>
</li>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;AE_LnlengthR&quot;</span> <span class="n">string</span></code>   default None</p>
<p>string of attribute/column name for Network cost in reverse multiplier, if None, all edges will use the value of 'AR_Lnlength'</p>
</li>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;AE_EdgeCost&quot;</span> <span class="n">string</span></code>   default None</p>
<p>Additional cost multiplier, if None will revert to 1.0</p>
</li>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;Threads&quot;</span> <span class="nb">int</span></code>   default 0</p>
<p>specify threads number for multiprocessing. For single core processing, input 1. The default value is 0, if which, will be replaced with (CPU count - 1), which almost fully utilizes CPU processing.</p>
</li>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;SizeBuffer&quot;</span> <span class="nb">float</span></code>   default 0.05</p>
<p>buffer multipler for edges and nodes array size in GraphCy, only important if additional addition to edges or nodes are done during process.</p>
</li>
</ul>
</dd>
</dl>
</dd>
</dl>
<h5 id="use-example">Use Example</h5>
<dl>
<dd><div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">import</span> <span class="nn">SNAPy</span> <span class="k">as</span> <span class="nn">sna</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">import</span> <span class="nn">geopandas</span> <span class="k">as</span> <span class="nn">gpd</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">dfNetwork</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s1">&#39;testdata</span><span class="se">\\</span><span class="s1">NetworkClean.shp&#39;</span><span class="p">)</span> <span class="c1"># network dataframe</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">dfEntries</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s1">&#39;testdata</span><span class="se">\\</span><span class="s1">Features.gpkg&#39;</span><span class="p">,</span> <span class="n">layer</span><span class="o">=</span><span class="s1">&#39;Features&#39;</span><span class="p">)</span> <span class="c1"># entrance dataframe</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="n">nwSim</span> <span class="o">=</span> <span class="n">sna</span><span class="o">.</span><span class="n">GraphSims</span><span class="p">(</span><span class="n">dfNetwork</span><span class="p">,</span> <span class="n">dfEntries</span><span class="p">)</span> <span class="c1"># main class for loading network data</span>
</span></code></pre></div></dd>
</dl>
</dd>
</dl>
<h3 id="graphsims-items">GraphSims <i>Items</i></h3>
<dl>
<dd>
<h4 id="baseset-dict">.baseSet <i> dict </i></h4>
<dl>
<dd>
<p>Dictionary of settings</p>
<p>Dictionary of processing settings used in initialization or other functions. Complete elements of the dictionary can be read/found at class parameter description.</p>
</dd>
</dl>
</dd>
<dd>
<h4 id="networkdf-geodataframe">.NetworkDf <i> GeoDataFrame </i></h4>
<dl>
<dd>
<p>GeoDataFrame of network from input, with parity with edges data in SGACy graph.</p>
<p>Functions that have results on edges such as .BetweenessPatronage, etc will save their results in a specified field name. Which then the variable can be obtained and modified as a GeoDataFrame, which can be edited, saved, filtered.</p>
</dd>
</dl>
</dd>
<dd>
<h4 id="entriesdf-geodataframe">.EntriesDf <i> GeoDataFrame </i></h4>
<dl>
<dd>
<p>GeoDataFrame of entries from input. From initialization process or reparametrization will be automatically appended intersection point coordinate as 'xPt_X' and 'xPt_Y', and 'xLn_ID' for connected edge id.</p>
<p>built-in entries point based functions such as .Reach, etc will save their results in a specified field name. Which then the variable can be obtained and modified as a GeoDataFrame, which can be edited, saved, filtered.</p>
</dd>
</dl>
</dd>
<dd>
<h4 id="gph-graph">.Gph <i> Graph </i></h4>
<dl>
<dd>networkx Graph object from class initialization or reparametrization</dd>
</dl>
</dd>
<dd>
<h4 id="nodedf-geodataframe">.NodeDf <i> GeoDataFrame </i></h4>
<dl>
<dd>GeodataFrame of network nodes, with the attribute 'JunctCnt', interger, of number of junctions/connections with edges of network. Will automatically initialize if used NetworkSegmentIntersections, but will be None initially. To access please use GraphSims.getNodes().</dd>
</dl>
</dd>
<dd>
<h4 id="pdklayers-pdklyrnm-pdkcenter">.pdkLayers, .pdkLyrNm, .pdkCenter</h4>
<dl>
<dd>Pydeck related values, see more at <a href="../func_vis/#related-itemsvalues-in-graphsims-to-mapping">visualisation related variables</a></dd>
</dl>
</dd>
</dl>
<h3 id="graphsims-functions">GraphSims <i>Functions</i></h3>
<dl>
<dd>
<h4 id="betweenesspatronage-func">.BetweenessPatronage <i> func </i></h4>
<code class="language-python highlight"><span class="n">BetweenessPatronage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">OriID</span><span class="p">:</span><span class="n">Tuple</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">DestID</span><span class="p">:</span><span class="n">Tuple</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code><dl>
<dd>
<p>returns self.NetworkDf : GeoDataFrame <br>
<i>GraphSims.NetworkDf with the specified results column</i></p>
<p>Function for betweeness patronage, calculating segment traffic weighting from origin capacity, distributed through weightable destinations within the network in a set distance. Further elaboration on the method can be accessed on <a href="../methods/#betweeness-patronage-functions">method documentation</a>.
Output appended on network/edges data on self.NetworkDf, but results on entries-destination on self.EntriesDf can also be aqcuired with setting Include_Destination : True in kwargs.</p>
<div class="admonition info">
<p class="admonition-title">result return</p>
<p>results will be appended to self.NetworkDf, therefore the results can be accesed later so that the function does not need to be assigned into a new variable.</p>
</div>
<div class="admonition info">
<p class="admonition-title">origin-destination pairings</p>
<p>It is acceptable to have the same id in origins and destinations, as the algorithm will skip/pass the calculations if the origin and destination has the same id.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">processing duration</p>
<p>Further distances will require exponentially longer time. Function has built in multithreading capabilities using multiprocessing.Pool. Please take notice of self.baseSet['Threads'], as the value is also used in this function.</p>
</div>
</dd>
</dl>
<h5 id="parameters_1">Parameters</h5>
<dl>
<dd>
<dl>
<dt><b>OriID</b> : list, tuple, np.array, geoseries <i>default None</i></dt>
<dd>Set of registered IDs of entries acting as origins. Any iterable format that is compatible to geoDataFrame.isin() function. If None, all entries will be set as origins.</dd>
</dl>
</dd>
<dd>
<dl>
<dt><b>DestID</b> : list, tuple, np.array, geoseries <i>default None</i></dt>
<dd>Set of registered IDs of entries acting as destinations. Any iterable format that is compatible to geoDataFrame.isin() function. If None, all entries will be set as destinations.</dd>
</dl>
</dd>
<dd>
<dl>
<dt><b>**kwargs</b> : Dict/keys-values</dt>
<dd>
<p>Parameter arguments, that contain:</p>
<ul>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;OriWgt&quot;</span> <span class="n">string</span></code>   default 'weight'</p>
<p>name of the attribute from self.EntriesDf to access weight value for origin points. In the context of Betweeness Patronage, the value will represent the trip unit/person.
There is a feature that skips any processing if the weighting value is 0.0</p>
<div class="admonition warning">
<p class="admonition-title">default values</p>
<p>if the attribute name is not found, there will be an automatic adjustment/appandage with the default value of 1.0</p>
</div>
</li>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;DestWgt&quot;</span> <span class="n">string</span></code>   default "weight"</p>
<p>name of the attribute from self.EntriesDf to access weight value for destination points. In the context of Betweeness Patronage, the value will represent destination preference.
There is a feature that skips any processing if the weighting value is 0.0</p>
<div class="admonition warning">
<p class="admonition-title">default values</p>
<p>if the attribute name is not found, there will be an automatic adjustment/appandage with the default value of 1.0</p>
</div>
</li>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;RsltAttr&quot;</span> <span class="n">string</span></code>   default "PatronBtwns"</p>
<p>Attribute name for the result. will be appended to self.NetworkDf. (And self.EntriesDf if Include_Destination set True)</p>
</li>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;SearchDist&quot;</span> <span class="nb">float</span></code>   default 1200.0</p>
<p>Search distance from origin to destination in network distance. Note that origin-destination pairings that are close to SearchDist and have DetourR that may result in distances further than SearchDist will still append the path found.</p>
</li>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;DetourR&quot;</span> <span class="nb">float</span></code>   default 1.0</p>
<p>detour ratio for redundant paths, the value will represent the maximum redundant/alternative path length from the shortest path within the maximum search distance. Default value is 1.0 which is provided a switch to only find one shortest path. (if two exact shortest path exist, the pathfinding algorithm will use the smalled FID edge number).</p>
</li>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;AlphaExp&quot;</span> <span class="nb">float</span></code>   default 0.0</p>
<p>Exponent value for inverse distance function. if using default value of 0.0, the calculation turns into a linear inverse distance function. See more at <a href="../methods/#betweeness-patronage-functions">method documentation</a>.</p>
</li>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;AttrEdgeID&quot;</span> <span class="n">string</span></code>   default self.baseSet['EdgeID']</p>
<p>Edge ID attribute field name, default will be referring to self.baseSet['EdgeID'], which has a default of 'fid'.</p>
</li>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;AttrEntID&quot;</span> <span class="n">string</span></code>   default self.baseSet['EntID']</p>
<p>Entry ID attribute field name, default will be referring to self.baseSet['EntID'], which has a default of 'fid'.</p>
</li>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;Include_Destination&quot;</span> <span class="nb">bool</span></code>   default False</p>
<p>Included distribution of origin weight on destination entries. Note that this will also create a new attribute/field on self.EntriesDf but it won't be included as an ouptut of this function. To access results use GraphSims.EntriesDf.</p>
</li>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;Threads&quot;</span> <span class="nb">int</span><span class="o">|</span><span class="kc">None</span></code>   default None</p>
<p>number of threads for processing, if None, threads will refer to self.baseSet['Threads']. Note that this will set self.baseSet['Threads'], impacting other processes. Set 0 to automatically set cpu_count - 1</p>
</li>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;PathLim&quot;</span> <span class="nb">int</span></code>   default 2000</p>
<p>Number of alternative path between an origin-destination pair. Paths generated are already very close to be sorted by distance. Process stopped if number of found paths exceed PathLim, so that further paths within DetourR range will not be detected/skipped.</p>
</li>
</ul>
</dd>
</dl>
</dd>
</dl>
<h5 id="use-example_1">Use Example</h5>
<dl>
<dd>
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1">### continuation from class initialization</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="c1">### nwSim = sna.GraphSims()</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="n">nwSim</span><span class="o">.</span><span class="n">BetweenessPatronage</span><span class="p">(</span><span class="n">OriWgt</span><span class="o">=</span><span class="s1">&#39;Capacity&#39;</span><span class="p">,</span> <span class="n">DestWgt</span><span class="o">=</span><span class="s1">&#39;Weight&#39;</span><span class="p">,</span> <span class="n">SearchDist</span><span class="o">=</span><span class="mi">700</span><span class="p">,</span> <span class="n">DetourR</span><span class="o">=</span><span class="mf">1.1</span><span class="p">)</span> <span class="c1"># results does not need to be contained</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="n">nwSim</span><span class="o">.</span><span class="n">NetworkDf</span><span class="o">.</span><span class="n">sample</span> <span class="c1"># results can be accessed from the NetworkDf attribute</span>
</span></code></pre></div>
<p>Function can be run in loops</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1">### continuation from class initialization</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="c1">### nwSim = sna.GraphSims()</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="n">runs</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>    <span class="p">(</span><span class="s1">&#39;Ent01&#39;</span><span class="p">,</span> <span class="s1">&#39;Dst02&#39;</span><span class="p">,</span> <span class="mf">350.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="s1">&#39;run01&#39;</span><span class="p">),</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>    <span class="p">(</span><span class="s1">&#39;Ent02&#39;</span><span class="p">,</span> <span class="s1">&#39;Dst02&#39;</span><span class="p">,</span> <span class="mf">700.0</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">,</span> <span class="s1">&#39;run02&#39;</span><span class="p">),</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>    <span class="p">(</span><span class="s1">&#39;Ent03&#39;</span><span class="p">,</span> <span class="s1">&#39;Dst03&#39;</span><span class="p">,</span> <span class="mf">700.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="s1">&#39;run03&#39;</span><span class="p">),</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="p">)</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="k">for</span> <span class="n">rn</span> <span class="ow">in</span> <span class="n">runs</span><span class="p">:</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>    <span class="n">nwSim</span><span class="o">.</span><span class="n">BetweenessPatronage</span><span class="p">(</span><span class="n">OriWgt</span><span class="o">=</span><span class="n">rn</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">DestWgt</span><span class="o">=</span><span class="n">rn</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">SearchDist</span><span class="o">=</span><span class="n">rn</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">DetourR</span><span class="o">=</span><span class="n">rn</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">RsltAttr</span><span class="o">=</span><span class="n">rn</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span> <span class="c1"># results does not need to be contained</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="n">nwSim</span><span class="o">.</span><span class="n">NetworkDf</span><span class="o">.</span><span class="n">to_file</span><span class="p">(</span><span class="s2">&quot;output.gpkg&quot;</span><span class="p">,</span> <span class="n">layer</span><span class="o">=</span><span class="s2">&quot;Entries&quot;</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="s2">&quot;EPSG:32748&quot;</span><span class="p">,</span> <span class="n">driver</span><span class="o">=</span><span class="s1">&#39;GPKG&#39;</span><span class="p">)</span> <span class="c1"># geoDataFrame can be saved to GIS files</span>
</span></code></pre></div>
</dd>
</dl>
</dd>
<dd>
<h4 id="reach-func">.Reach <i> func </i></h4>
<dl>
<dt><code class="language-python highlight"><span class="n">Reach</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">OriID</span><span class="p">:</span><span class="n">Tuple</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">DestID</span><span class="p">:</span><span class="n">Tuple</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mode</span><span class="p">:</span><span class="nb">str</span><span class="o">=</span><span class="s1">&#39;N&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code></dt>
<dd>
<p>returns self.EntriesDf : GeoDataFrame <br>
<i>GraphSims.EntriesDf with the specified results column</i></p>
<p>Function for Reach related calculations. Further elaboration on the method can be accessed on method documentation. With the resulting information are counts/weighted sums/sums of destinations within reach, the results can also be interpreted as Centralities. Further explanation on reach documentation can found on <a href="../methods/#reach-functions">method documentation</a>. Contains multiple Modes:</p>
<ul>
<li>
<p>Mode="N" : Count Sum
    for counting destinations within reach distance, results in one new attribute of interger numbers</p>
</li>
<li>
<p>Mode="W" : Weighted Sum
    for counting and summing value based on specific weights of each destination feature, results in two attribute (with the second has a suffix of "_2"). First is interger count, second is the summed weight</p>
</li>
<li>
<p>Mode="WD" : Weighted Distance Sum
    for counting and summing value based on specific weights adjusted with distance function of each destination feature, results in two attribute (with the second has a suffix of "_2"). First is interger count, second is the summed weight.</p>
<div class="admonition info">
<p class="admonition-title">CalcExp Value</p>
<p>CalcExp value is negative by default. It can handle negative </p>
</div>
</li>
<li>
<p>Mode="ND" : Count and Distance
    for counting and finding nearest distance to destination. Results in two attribute (with the second has a suffix of "_2"). First is interger count, second is the minimum distance.</p>
</li>
<li>
<p>Mode="NDW" : Count, min Distance, and Weight Sum
    for counting and finding nearest distance to destination, and also sum of weight to all destinations in reach. Results in three attribute (with the minimum distance suffix of "_D", and Weight Sum of "_W").</p>
</li>
</ul>
<div class="admonition info">
<p class="admonition-title">result return</p>
<p>results will be appended to self.EntriesDf, therefore the results can be accesed later so that the function does not need to be assigned into a new variable.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">processing duration</p>
<p>function has built in multithreading capabilities using multiprocessing.Pool. Please take notice of self.baseSet['Threads'], as the value is also used in this function.
Larger models, larger search distance, will be cause exponentially longer processing time.</p>
</div>
</dd>
</dl>
<h5 id="parameters_2">Parameters</h5>
<dl>
<dd>
<dl>
<dt><b>OriID</b> : Tuple <i>default None</i></dt>
<dd>Tuple of Origin point IDs, referencing <code class="language-python highlight"><span class="n">GraphSims</span><span class="o">.</span><span class="n">EntriesDf</span></code> ID attribute specified at class initialization. If None, all </dd>
</dl>
</dd>
<dd>
<dl>
<dt><b>DestID</b> : Tuple <i>default None</i></dt>
<dd>Geopandas geodataframe of Entries data, containing nodes in lines/polylines data form. Can contain weight</dd>
</dl>
</dd>
<dd>
<dl>
<dt><b>Mode</b> : string <i>default "N"</i></dt>
<dd>modes of calculation, see function description.</dd>
</dl>
</dd>
<dd>
<dl>
<dt><b>**kwargs</b> : Dict/keys-values</dt>
<dd>
<p>Parameter arguments, that contain:</p>
<ul>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;DestWgt&quot;</span> <span class="n">string</span></code>   default "weight"</p>
<p>name of the attribute from self.EntriesDf to access weight value for destination points. In the context of Betweeness Patronage, the value will represent destination preference.
There is a feature that skips any processing if the weighting value is 0.0</p>
<div class="admonition warning">
<p class="admonition-title">default values</p>
<p>if the attribute name is not found, there will be an automatic adjustment/appandage with the default value of 1</p>
</div>
</li>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;RsltAttr&quot;</span> <span class="n">string</span></code>   default "Reach"</p>
<p>Attribute name for the result. will be appended to self.NetworkDf.</p>
</li>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;SearchDist&quot;</span> <span class="nb">float</span></code>   default 1200.0</p>
<p>maximum path distance, corresponding to the data's units</p>
</li>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;CalcExp&quot;</span> <span class="nb">float</span></code>   default 0.35</p>
<p>Exponent value for inverse distance function. if using default value of 0.0, the calculation turns into a linear inverse distance function. only for "WD" mode.</p>
</li>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;CalcComp&quot;</span> <span class="nb">float</span></code>   default 0.6</p>
<p>Compunding multiplier for "WD" mode.</p>
</li>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;Threads&quot;</span> <span class="nb">int</span><span class="o">|</span><span class="kc">None</span></code>   default None</p>
<p>number of threads for processing, if None, threads will refer to self.baseSet['Threads']. Note that this will set self.baseSet['Threads'], impacting other processes. Set 0 to automatically set cpu_count - 1</p>
</li>
</ul>
</dd>
</dl>
</dd>
</dl>
<h5 id="use-example_2">Use Example</h5>
<dl>
<dd><div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1">### continuation from class initialization</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="c1">### nwSim = sna.GraphSims()</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="n">nwSim</span><span class="o">.</span><span class="n">Reach</span><span class="p">(</span><span class="n">Mode</span><span class="o">=</span><span class="s1">&#39;WD&quot;, SearchDist=700, CalcExp=0.1) # results does not need to be contained</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="n">nwSim</span><span class="o">.</span><span class="n">EntriesDf</span><span class="o">.</span><span class="n">sample</span> <span class="c1"># results can be accessed from the EntriesDf attribute</span>
</span></code></pre></div></dd>
</dl>
</dd>
<dd>
<h4 id="straightness-func">.Straightness <i> func </i></h4>
<dl>
<dt><code class="language-python highlight"><span class="n">Straightness</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">OriID</span><span class="p">:</span><span class="nb">list</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">DestID</span><span class="p">:</span><span class="nb">list</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">Mode</span><span class="o">=</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code></dt>
<dd>
<p>returns self.EntriesDf : GeoDataFrame <br>
<i>GraphSims.EntriesDf with the specified results column</i></p>
<p>Returns average of Straightness value from all objects is flight distance from origin point. Only accounts of objects with findable paths within the network. Untracable paths will not be accounted. Further elaboration on the method can be accessed on method documentation.</p>
<div class="admonition info">
<p class="admonition-title">result return</p>
<p>results will be appended to self.EntriesDf, therefore the results can be accesed later so that the function does not need to be assigned into a new variable.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">processing duration</p>
<p>function has built in multithreading capabilities using multiprocessing.Pool. Please take notice of self.baseSet['Threads'], as the value is also used in this function.
Larger models, larger search distance, will be cause exponentially longer processing time.</p>
</div>
</dd>
</dl>
<h5 id="parameters_3">Parameters</h5>
<dl>
<dd>
<dl>
<dt><b>OriID</b> : Tuple <i>default None</i></dt>
<dd>Tuple of Origin point IDs, referencing <code class="language-python highlight"><span class="n">GraphSims</span><span class="o">.</span><span class="n">EntriesDf</span></code> ID attribute specified at class initialization. If None, all </dd>
</dl>
</dd>
<dd>
<dl>
<dt><b>DestID</b> : Tuple <i>default None</i></dt>
<dd>Geopandas geodataframe of Entries data, containing nodes in lines/polylines data form. Can contain weight</dd>
</dl>
</dd>
<dd>
<dl>
<dt><b>**kwargs</b> : Dict/keys-values</dt>
<dd>
<p>Parameter arguments, that contain:</p>
<ul>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;DestWgt&quot;</span> <span class="n">string</span></code>   default "weight"</p>
<p>name of the attribute from self.EntriesDf to access weight value for destination points. In the context of Betweeness Patronage, the value will represent destination preference.
There is a feature that skips any processing if the weighting value is 0.0</p>
<div class="admonition warning">
<p class="admonition-title">default values</p>
<p>if the attribute name is not found, there will be an automatic adjustment/appandage with the default value of 1</p>
</div>
</li>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;RsltAttr&quot;</span> <span class="n">string</span></code>   default "Straightness"</p>
<p>Attribute name for the result. will be appended to self.NetworkDf.</p>
</li>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;SearchDist&quot;</span> <span class="nb">float</span></code>   default 1200.0</p>
<p>maximum path distance, corresponding to the data's units</p>
</li>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;CalcExp&quot;</span> <span class="nb">float</span></code>   default 0.35</p>
<p>Exponent value for inverse distance function. if positive will calculate by distance exponent, with further destinations will result in larger weights. use negative numbers for inverse distance function.</p>
</li>
<li>
<p><code class="language-python highlight"><span class="s2">&quot;Threads&quot;</span> <span class="nb">int</span><span class="o">|</span><span class="kc">None</span></code>   default None</p>
<p>number of threads for processing, if None, threads will refer to self.baseSet['Threads']. Note that this will set self.baseSet['Threads'], impacting other processes. Set 0 to automatically set cpu_count - 1</p>
</li>
</ul>
</dd>
</dl>
</dd>
</dl>
<h5 id="use-example_3">Use Example</h5>
<dl>
<dd><div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1">### continuation from class initialization</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="c1">### nwSim = sna.GraphSims()</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="n">nwSim</span><span class="o">.</span><span class="n">Straightness</span><span class="p">(</span><span class="n">SearchDist</span><span class="o">=</span><span class="mi">700</span><span class="p">,</span> <span class="n">CalcExp</span><span class="o">=-</span><span class="mf">0.1</span><span class="p">)</span> <span class="c1"># results does not need to be contained</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="n">nwSim</span><span class="o">.</span><span class="n">EntriesDf</span><span class="o">.</span><span class="n">sample</span> <span class="c1"># results can be accessed from the EntriesDf attribute</span>
</span></code></pre></div></dd>
</dl>
</dd>
<dd>
<h4 id="pathreach-func">.PathReach <i> func </i></h4>
<dl>
<dt><code class="language-python highlight"><span class="n">PatyReach</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">OriID</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span> <span class="n">distance</span><span class="p">:</span><span class="nb">float</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span> <span class="n">joined</span><span class="p">:</span><span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">incl_nodes</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">showmap</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">skip_layerinit</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">pdkupdate</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code></dt>
<dd>
<p>returns edges : GeoDataFrame <br></p>
<p>Returns a new dataframe containing geometries of edges that are within the reach radius from each origin entry, where each feature in output will have an appended origin ID.</p>
<div class="admonition warning">
<p class="admonition-title">multiple outputs!</p>
<p>the arguments 'incl_nodes', 'showmap', 'pdkupdate' will result in different return data and types. Read more on parameter description</p>
</div>
</dd>
</dl>
<h5 id="parameters_4">Parameters</h5>
<dl>
<dd>
<dl>
<dt><b>OriID</b> : Tuple <i>default None</i></dt>
<dd>iterable object of Origin Entry Ids.</dd>
</dl>
</dd>
<dd>
<dl>
<dt><b>distance</b> : float <i>default 800</i></dt>
<dd>Distance limit of pathreach. Lines/edges will be split on this distance.</dd>
</dl>
</dd>
<dd>
<dl>
<dt><b>joined</b> : bool <i>default False</i></dt>
<dd>Joins lines from all origins. Note that this will override/exclude origin entry id from results.</dd>
</dl>
</dd>
<dd>
<dl>
<dt><b>incl_nodes</b> : bool <i>default False</i></dt>
<dd>Output includes nodes on intersection, containing distance from origin information.</dd>
</dl>
</dd>
<dd>
<dl>
<dt><b>showmap</b> : bool <i>default False</i></dt>
<dd>Outputs Pydeck Deck/Map as the first input. Shows the edges, nodes on intersection with labels of distance, and origin point. Note that there are still edges and node output also appended in output</dd>
</dl>
</dd>
<dd>
<dl>
<dt><b>skip_layerinit</b> : bool <i>default True</i></dt>
<dd>Skips .Map_BaseLayerInit, so that output map will not include lines and other entries.</dd>
</dl>
</dd>
<dd>
<dl>
<dt><b>pdkupdate</b> : bool <i>default False</i></dt>
<dd>Outputs a list of Pydeck.Layers to replace or update previous pydeck.deck for update/interactive visualization. See more on <a href="../smpl/">Samples</a></dd>
</dl>
</dd>
<dd>
<dl>
<dt><b>**kwargs</b> : Dict/keys-values</dt>
<dd>Parameter arguments, empty.</dd>
</dl>
</dd>
</dl>
<h5 id="use-example_4">Use Example</h5>
<dl>
<dd><div class="language-python highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1">### continuation from class initialization</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="c1">### nwSim = sna.GraphSims()</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="n">EdgesDf</span><span class="p">,</span> <span class="n">NodeDf</span> <span class="o">=</span> <span class="n">nwSim</span><span class="o">.</span><span class="n">PathReach</span><span class="p">((</span><span class="mi">1</span><span class="p">,),</span> <span class="n">SearchDist</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span> <span class="n">incl_nodes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="c1"># unlike other GraphSims functions, PathReach results are not contained within the class.</span>
</span></code></pre></div></dd>
</dl>
</dd>
</dl>
<p><br><br>
@September2024</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../func_structure/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Structure">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Structure
              </div>
            </div>
          </a>
        
        
          
          <a href="../func_ca/" class="md-footer__link md-footer__link--next" aria-label="Next: Other Analysis">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Other Analysis
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 Kevin Sutjijadi
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/kevinsutjijadi/SNAPy" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.code.select", "navigation.footer"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.d6f25eb3.min.js"></script>
      
    
  </body>
</html>